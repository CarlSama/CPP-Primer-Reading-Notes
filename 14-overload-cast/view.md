## 

### 与原函数的不同

运算符的求值顺序无法引用到重载运算符
> &&和||无法保留短路属性,因此不建议重载
> C++已经定义了.和&运算符用于类类型的特殊含义,一般不重载

### 成员还是非成员?

1. =, [], (), ->必须是成员

2. 复合运算符一般是成员

3. 改变对象状态的运算符或与给定类型密切相关的类型,应为成员
> ++, --, *(解印用)

4. 具有对称性的运算符(算数,相等性,关系和位运算符等),非成员

### >> <<

尽量减少格式化操作

必须是非成员函数
> 否则左侧对象必须时类的对象,这就隐含要求了类是iostream对象.我们不能修改标准库 :(

输入运算符(>>)要处理输入失败的情况,负责从错误中恢复.
> 读取错误类型
> eof或其他错误

### 下标运算符

通常定义两个版本,根据对象的类型来决定
> 返回普通引用
> 返回常量引用

### ++ --

前置版本:
> Base& operator ++/-- ();需要返回对象
> 引用是为了符合内置类型

后置版本:
> Base operator ++/-- (int);返回的是之前的值,因为无需用到实参的值,所以不需命名

### 成员访问运算符

### 调用运算符

可调用对象-> 定义了调用运算符

## 类型转换

operator type () const;

为了防止类型转换产生意外的结果(cin<<s),c++11引入了显示的类型转换运算符
> 当表达式出现在条件判断的地方,会隐式的执行显式转换

### 有二义性的类型转换

不要让两个类执行相同的类型转换
A中有B为参数的构造函数,而B中有A的类型转换,会带来二义性错误
> A a = b; 同时存在有两种由B获得A的方法

避免转换目标是内置算数类型
> operator int() const;
> operator double() const;

### 

a sym b
> a.operator sym(b) a的成员函数
> operator sym(b) 普通函数



